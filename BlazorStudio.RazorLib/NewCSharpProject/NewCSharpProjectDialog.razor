@using BlazorStudio.ClassLib.FileSystem.Interfaces
@if (_templates is null)
{
    <div>Executing "dotnet new list"</div>
}
else if (!_templates.Any())
{
    <div>No C# Project Templates found. attempted: "@getCSharpProjectTemplatesCommand"</div>
}
else
{
    <SelectCSharpProjectTemplate @ref="_selectCSharpProjectTemplate"
                                 Templates="_templates"
                                 ReRenderCallbackFunc="async () => await InvokeAsync(StateHasChanged)" />
    
    <hr/>

    <div style="height: 25%; margin: 0 15px;">
        <BlazorStudio.RazorLib.InputFile.InputFileDialog OnEnterKeyDownOverride="InputFileDialogOnEnterKeyDownOverride"
                                                         ShowFooter="false" />
    </div>

    <hr />

    <input @bind="_templateArguments" @bind:event="oninput" />

    <div style="height: 20%; overflow-y: auto;">
        Selected Absolute Path:<br />
        <div>
            <em>
                @(InputFileDialogSelection?.GetAbsoluteFilePathString() ?? "select a path")
            </em>
        </div>

        Preview Command:<br/>
        <div>
            <em>
                @InterpolatedCommand
            </em>
        </div>

        <button class="btn btn-primary"
                disabled="@_disableExecuteButton">
            @*@onclick="ExecuteNewCSharpProject">*@
            Execute
        </button>

        @_executionOfNewCSharpProjectOutput
    </div>
}
