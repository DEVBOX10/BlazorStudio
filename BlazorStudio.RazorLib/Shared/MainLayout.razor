@using BlazorStudio.ClassLib.Context
@using BlazorStudio.RazorLib.ContextCase
@using BlazorTextEditor.RazorLib
@using BlazorALaCarte.DialogNotification.Installation
@using BlazorALaCarte.Shared.Drag
@using BlazorALaCarte.Shared.Resize

@inherits LayoutComponentBase

<ContextBoundary ContextRecord="ContextFacts.GlobalContext"
                 ClassCssString="@($"bstudio_main-layout {UnselectableClassCss} {ThemeStateWrap.Value.ActiveThemeRecord.CssClassString}")"
                 StyleCssString="@($"font-size: {FontStateWrap.Value.FontSizeInPixels.ToString(System.Globalization.CultureInfo.InvariantCulture)}px;")">

    <BlazorTextEditorRazorLibInitializer/>
    <DialogInitializer/>
    <NotificationInitializer/>
    <DragDisplay/>

    <BlazorTextEditorHeader/>

    <BlazorTextEditorBody BodyElementDimensions="_bodyElementDimensions"/>

    <ResizableRow TopElementDimensions="_bodyElementDimensions"
                  BottomElementDimensions="_footerElementDimensions"
                  ReRenderFuncAsync="ReRenderAsync"/>

    <BlazorTextEditorFooter FooterElementDimensions="_footerElementDimensions"/>
</ContextBoundary>