@using BlazorStudio.ClassLib.Context
@using BlazorStudio.RazorLib.ContextCase
@using BlazorStudio.RazorLib.DialogCase
@using BlazorStudio.RazorLib.DragCase
@using BlazorStudio.RazorLib.ResizableCase
@using BlazorStudio.RazorLib.Notifications
@using BlazorTreeView.RazorLib

@inherits LayoutComponentBase

<ContextBoundary ContextRecord="ContextFacts.GlobalContext"
                 ClassCssString="@($"bstudio_main-layout {UnselectableClassCss} {ThemeStateWrap.Value.ActiveThemeRecord.ClassCssString}")"
                 StyleCssString="@($"font-size: {FontStateWrap.Value.FontSizeInPixels}px;")">

    <BlazorTextEditorRazorLibInitializer/>
    <BlazorTreeViewInitializer/>
    <DialogInitializer/>
    <NotificationInitializer/>
    <DragDisplay/>

    <BlazorTextEditorHeader/>

    <BlazorTextEditorBody BodyElementDimensions="_bodyElementDimensions"/>

    <ResizableRow TopElementDimensions="_bodyElementDimensions"
                  BottomElementDimensions="_footerElementDimensions"
                  ReRenderFuncAsync="ReRenderAsync"/>

    <BlazorTextEditorFooter FooterElementDimensions="_footerElementDimensions"/>
</ContextBoundary>