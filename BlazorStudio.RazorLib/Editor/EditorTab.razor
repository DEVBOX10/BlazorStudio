@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<ButtonDisplay CssClassString="@($"bstudio_editor-tab-display {IsActiveCssClass}")"
               OnClickFunc="async () => DispatchSetActiveTextEditorKeyAction()">

    @{
        var textEditorResourceMapState = TextEditorResourceMapStateWrap.Value;

        if (textEditorResourceMapState.ResourceMap
            .TryGetValue(TextEditor.Key, out var relatedResource))
        {
            <text>@relatedResource.FilenameWithExtension</text>
        }
        else
        {
            <text>(not named)</text>
        }

        if (TextEditor.EditBlocks.Any())
        {
            <span style="margin-left: 7px;">*</span>
        }
    }

    <ButtonDisplay CssClassString="bstudio_editor-tab-close-display"
                   OnClickFunc="async () => FireDisposePlainTextEditorOnClick()"
                   OnClickStopPropagation="true">
        
        <IconClose/>
    </ButtonDisplay>
</ButtonDisplay>