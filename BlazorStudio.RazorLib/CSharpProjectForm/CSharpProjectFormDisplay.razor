@using BlazorStudio.RazorLib.InputFile
@using BlazorStudio.RazorLib.Terminal
@using BlazorStudio.ClassLib.Store.TerminalCase

@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<div class="bstudio_new-dot-net-solution-form">
    
    <div class="bstudio_new-dot-net-solution-form-group">
        <div class="bstudio_new-dot-net-solution-form-label">
            Template name:
        </div>

        <div class="bstudio_new-dot-net-solution-form-value">
            <input class="bstudio_input bstudio_input-text"
                   style="height: 2em;"
                   placeholder="Template name"
                   @bind="_projectTemplateName"
                   @bind:event="oninput"/>
        </div>
    </div>
    
    <div class="bstudio_new-dot-net-solution-form-group">
        <div class="bstudio_new-dot-net-solution-form-label">
            Project name:
        </div>

        <div class="bstudio_new-dot-net-solution-form-value">
            <input class="bstudio_input bstudio_input-text"
                   style="height: 2em;"
                   placeholder="Project name"
                   @bind="_cSharpProjectName"
                   @bind:event="oninput"/>
        </div>
    </div>
    
    <div class="bstudio_new-dot-net-solution-form-group">
        <div class="bstudio_new-dot-net-solution-form-label">
            Optional parameters:
        </div>

        <div class="bstudio_new-dot-net-solution-form-value">
            <input class="bstudio_input bstudio_input-text"
                       style="height: 2em;"
                       placeholder="Optional parameters"
                       @bind="_optionalParameters"
                       @bind:event="oninput"/>
        </div>
    </div>

    <div class="bstudio_new-dot-net-solution-form-group">
        <div class="bstudio_new-dot-net-solution-form-label">
            Directory:
        </div>

        <div class="bstudio_new-dot-net-solution-form-value"
             style="display: flex;">
            
            <input class="bstudio_input bstudio_input-text"
                   style="height: 2em;"
                   placeholder="Parent directory"
                   @bind="_parentDirectoryName"
                   @bind:event="oninput"/>

            <ButtonDisplay OnClickFunc="async () => RequestInputFileForParentDirectory()">
                <IconFolder/>
            </ButtonDisplay>
        </div>
    </div>

    <div>
        Template&nbsp;Name:
        <div>
            <em>@ProjectTemplateName</em>
        </div>
    </div>
    
    <div>
        Project&nbsp;Name:
        <div>
            <em>@CSharpProjectName</em>.csproj
        </div>
    </div>
    
    <div>
        Optional&nbsp;Parameters:
        <div>
            <em>@OptionalParameters</em>
        </div>
    </div>

    <div>
        Directory&nbsp;Absolute&nbsp;File&nbsp;Path:
        <div>
            <em>@ParentDirectoryName</em>
        </div>
    </div>

    <div>
        Command:
        <div>
            <em>@InterpolatedNewCSharpProjectCommand</em>
        </div>
    </div>
    
    <ButtonDisplay OnClickFunc="StartNewCSharpProjectCommandOnClick">
        Run
    </ButtonDisplay>
    
    <TerminalOutputDisplay TerminalSessionKey="TerminalSessionFacts.GENERAL_TERMINAL_SESSION_KEY" 
                           TerminalCommandKey="_newCSharpProjectTerminalCommandKey" />
</div>